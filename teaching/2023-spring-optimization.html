<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> TA: Optimization Models and Methods | Bowen Fang </title> <meta name="author" content="Bowen Fang"> <meta name="description" content="TA for IEOR E4004. Topics included linear, nonlinear, integer, and dynamic programming."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%90%95&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://bwfbowen.github.io/teaching/2023-spring-optimization"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Bowen Fang </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">More </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/blog/">blog</a> <a class="dropdown-item " href="/publications/">publications</a> <a class="dropdown-item " href="/cv/">cv</a> <a class="dropdown-item " href="/projects/">projects</a> <a class="dropdown-item " href="/repositories/">repositories</a> <a class="dropdown-item " href="/teaching/">teaching</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">TA: Optimization Models and Methods</h1> <p class="post-description">TA for IEOR E4004. Topics included linear, nonlinear, integer, and dynamic programming.</p> </header> <article> <p>I served as the Teaching Assistant for Graduate Optimization Models and Methods (IEOR E4004). The course covers linear programming, the simplex method, duality, and nonlinear, integer, and dynamic programming.</p> <p>My duties included:</p> <ul> <li>Grading homework and the course project, providing detailed feedback.</li> <li>Revising and improving official solutions for assignments.</li> <li>Enhancing the final project, “Moving Object Detection,” by creating a more robust and user-friendly coding template.</li> </ul> <h2 id="final-project-enhancement-moving-object-detection">Final Project Enhancement: Moving Object Detection</h2> <p>I think this is a very interesting project with inspiring questions. The description of this project is as below:</p> <h2 id="description">Description</h2> <p>Suppose we would like to extract moving objects from a video. We encode the video as a data matrix \(M ∈ \mathbb{R}^{m×n}\) where each column corresponds to a video frame, and each row corresponds to a pixel. If all the columns are the same, then there is no movement in the video and the data matrix $M$ has rank one. If one or more objects are moving, then they can be can be viewed as noise \(ε ∈ \mathbb{R}^{m×n}\) that is being added to a rank one matrix \(uv^T\) (the fixed background) for some \(u ∈ \mathbb{R}^m\) and \(v ∈ \mathbb{R}^n\). In other words, we have \(M = uv^T + ε\). One can thus try to recover the background (and hence the moving objects) by finding a closest rank one matrix \(xy^T\) to the data matrix $M$, as follows:</p> \[\inf_{(x,y)\in\mathbb{R}^m\times\mathbb{R}^n}\frac{1}{2}\sum_{i=1}^m\sum_{j=1}^n(x_iy_j-M_{ij})^2\] <h2 id="selected-questions">Selected Questions</h2> <ol> <li>Notice that we do not assume that all the elements of the vector $v$ are equal to one another. What is the benefit of allowing them to be different from one another?</li> <li>Determine the update rule of the stochastic gradient descent method applied to the objective function.</li> <li>Is the objective function convex? Show that all local minima are global minima when \(ε = 0\). Comment on the empirical success of the approach.</li> </ol> <h2 id="enhancements-for-the-coding-part">Enhancements for the coding part</h2> <p>I have noticed that some students are having trouble with the current code template, for instance, some students correctly derived the SGD update rule while left the block empty where they are supposed to implement the SGD method.</p> <p>And when I was trying to do the project, I noticed that some operations require a lot of RAM, and the generated video files are larger than the original video, which could be an issue if the students only have limited storage.</p> <p>Therefore, I have created a <a href="https://drive.google.com/file/d/1mkY8H5v3MTXh2UEaNygD6LyHrq61mJiv/view?usp=sharing" rel="external nofollow noopener" target="_blank">colab version template</a>(LionMail required) for the project that can be viewed by LionMail. Students can make a copy of the colab notebook and implement the algorithm. The features are listed below:</p> <p>Features:</p> <ul> <li>Colab notebook <ul> <li>Colab solves the environment issues, and provides enough storage space</li> </ul> </li> <li> <code class="language-plaintext highlighter-rouge">SGD</code> function for students to implement <ul> <li>The function is put at the beginning of the notebook, so that students could easily figure out what they are supposed to implement</li> </ul> </li> <li>Supports directly load video from Youtube <ul> <li>It might be easier to have the option to load the video of interest from Youtube</li> </ul> </li> <li>A simple moving circle video is provided by default <ul> <li>I have uploaded a 3s moving circle video, students can use this video to test their implementation before applying the algorithm to larger video</li> <li><img src="/assets/img/circle.png" alt="circle"></li> </ul> </li> <li>Clearer hypermarameters <ul> <li><img src="/assets/img/param-mod.png" alt="param-mod"></li> <li>Colab supports form field, which could be clearer for defining hyper parameters</li> </ul> </li> <li>Use <code class="language-plaintext highlighter-rouge">numpy</code> for batch update, instead of <code class="language-plaintext highlighter-rouge">for loop</code> <ul> <li>The optimization time could be greatly reduced if the <code class="language-plaintext highlighter-rouge">batch_size</code> is large. Below is a comparison of <code class="language-plaintext highlighter-rouge">numpy</code> method and <code class="language-plaintext highlighter-rouge">for loop</code> method with <code class="language-plaintext highlighter-rouge">batch_size=32</code> </li> <li> <code class="language-plaintext highlighter-rouge">numpy</code>: 1min <img src="/assets/img/np.png" alt="np"> </li> <li> <code class="language-plaintext highlighter-rouge">for loop</code>: 13min<img src="/assets/img/for.png" alt="for"> </li> </ul> </li> <li>Convert type <code class="language-plaintext highlighter-rouge">float64</code> to <code class="language-plaintext highlighter-rouge">uint8</code> before $xy^T$ to prevent out-of-memory <ul> <li>For the video of 56Kb (simple moving circle), the <code class="language-plaintext highlighter-rouge">uint8</code> <code class="language-plaintext highlighter-rouge">numpy.ndarray</code> is ~60Mb, <code class="language-plaintext highlighter-rouge">float64</code> is ~480Mb. It could easily run out og memory if not converting type before the multiplication. <img src="/assets/img/size.png" alt="size"> </li> <li>The quality of the result video is similar: <ul> <li>convert to <code class="language-plaintext highlighter-rouge">uint8</code> before multiplication:<img src="/assets/img/uint8_before.png" alt="uint8_before"> </li> <li>convert to <code class="language-plaintext highlighter-rouge">uint8</code> after multiplication:<img src="/assets/img/uint8_after.png" alt="uint8_after"> </li> </ul> </li> </ul> </li> <li>Changed variable name <code class="language-plaintext highlighter-rouge">L</code>, <code class="language-plaintext highlighter-rouge">S</code> to <code class="language-plaintext highlighter-rouge">estimate_background</code> and <code class="language-plaintext highlighter-rouge">noise</code> </li> <li>Used <code class="language-plaintext highlighter-rouge">ffmpeg</code> to reduce the size of output video <ul> <li>The result video files are much larger than the input video. For instance, the 56Kb video would result in a <code class="language-plaintext highlighter-rouge">background.mp4</code> of size ~750Kb, and a <code class="language-plaintext highlighter-rouge">moving_object.mp4</code> of size ~4.6Mb. While using <code class="language-plaintext highlighter-rouge">ffmpeg</code> could reduce the size to ~160Kb and ~830Kb, respectively.</li> </ul> </li> <li>Added an embedded video display feature <ul> <li>It could be easier for students to display and check their result video on Colab</li> <li><img src="/assets/img/display.png" alt="display"></li> </ul> </li> </ul> <p>Limitations:</p> <ul> <li>Video larger than RAM <ul> <li>The whole video is read in RAM for subsequent operations, so if the video is larger than RAM, the session will be crashed</li> </ul> </li> <li>Large result video <ul> <li>Large result video is not able to be displayed by current embedded video display feature, the students might have to download the video and check, which could consume longer time since the download speed of Colab is not fast.</li> </ul> </li> </ul> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Bowen Fang. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>